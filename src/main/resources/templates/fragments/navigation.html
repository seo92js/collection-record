<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<nav th:fragment="navigation" class="nav">

    <ul class="nav__ul">
        <!-- 홈 -->
        <li sec:authorize="isAuthenticated()" class="nav__li">
            <a href="/" >
                <i class="fas fa-home"></i>
            </a>
        </li>
        <!-- 검색 -->
        <li sec:authorize="isAuthenticated()" class="nav__li">
            <a href="/search">
                <i class="fas fa-search"></i>
            </a>
        </li>
        <!-- 마이홈 -->
        <li sec:authorize="isAuthenticated()" class="nav__li">
            <a th:href="@{/user/{loginUsername}/home(loginUsername=${loginUsername})}">
                <i class="fas fa-user"></i>
            </a>
        </li>
        <!-- 채팅방 -->
        <li sec:authorize="isAuthenticated()" id="chat" class="nav__li">
            <a th:href="@{/user/{loginUsername}/chatroomList(loginUsername=${loginUsername})}">
                <i class="fas fa-comment"></i>
            </a>
        </li>
        <!-- 알림 -->
        <li sec:authorize="isAuthenticated()" id="notification" class="nav__li">
            <a th:href="@{/notification/{id}(id=${loginUserId})}">
                <i class="fas fa-bell"></i>
            </a>
        </li>
        <!-- 로그아웃 -->
        <li sec:authorize="isAuthenticated()" class="nav__li">
            <a href="/logout" id="logout-btn">
                <i>로그아웃</i>
            </a>
        </li>
        <!-- 회원가입 -->
        <li sec:authorize="isAnonymous()" class="nav__li">
            <a href="/user/join">
                <i>회원가입</i>
            </a>
        </li>
        <!-- 로그인 -->
        <li sec:authorize="isAnonymous()" class="nav__li">
            <a href="/login">
                <i>로그인</i>
            </a>
        </li>

        <input type="hidden" th:value="${loginUsername}" th:id="loginUsername">
    </ul>

    <script src="/js/receive-chat.js" sec:authorize="isAuthenticated()"></script>
    <script src="/js/receive-notification.js" sec:authorize="isAuthenticated()"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</nav>