<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>

<div th:replace="fragments/navigation :: navigation" />

<header class="header">
    <h1 class="header__title">게시물 수정</h1>
</header>

<div class="container w-75">
    <form method="post">
        <input type="hidden" name="loginUsername" th:value="${session.user.name}">

        <div class="row mb-3">
            <label for="category" class="col-sm-2 col-form-label">카테고리</label>
            <div class="col-sm-10">
                <select id="category" class="form-control" >
                    <option th:text="${postsResponseDto.category}"></option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <label for="status" class="col-sm-2 col-form-label">게시물 상태</label>
            <div class="col-sm-10">
                <select id="status" class="form-control" name="status" required>
                    <option th:each = "status : ${statuses}" th:text="${status}" th:value="${status}"></option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <label for="artist" class="col-sm-2 col-form-label">아티스트</label>
            <div class="col-sm-10">
                <input class="form-control" id="artist" type="text" th:value="${postsResponseDto.artist}" readonly>
            </div>
        </div>

        <div class="row mb-3">
            <label for="album" class="col-sm-2 col-form-label">앨범</label>
            <div class="col-sm-10">
                <input class="form-control" id="album" type="text" th:value="${postsResponseDto.album}" readonly>
            </div>
        </div>

        <div class="row mb-3">
            <label for="genre" class="col-sm-2 col-form-label">장르</label>
            <div class="col-sm-10">
                <input class="form-control" id="genre" type="text" th:value="${postsResponseDto.genre}" readonly>
            </div>
        </div>

        <div class="row mb-3">
            <label for="albumArt" class="col-sm-2 col-form-label">이미지</label>
            <div class="col-sm-10">
                <img class="img-thumbnail" id="albumArt" th:src="@{/api/v1/image/{imageId}(imageId=${postsResponseDto.imageIds[0]})}">
            </div>
        </div>

        <div class="row mb-3">
            <label for="text" class="col-sm-2 col-form-label">내용</label>
            <div class="col-sm-10">
                <textarea id="text" class="form-control w-100" name="text" th:value="${postsResponseDto.text}" placeholder="내용"></textarea>
            </div>
        </div>

        <button class="btn btn-dark w-100 mb-3" type="submit">수정</button>

    </form>
</div>

<div th:replace="fragments/footer :: footer" />

<script src="/js/delete-posts.js"></script>

</body>
</html>